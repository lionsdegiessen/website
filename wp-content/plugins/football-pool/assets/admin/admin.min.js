jQuery(document).ready(function(){jQuery("body.football-pool input.current-page").keydown(function(a){13==(a.keyCode?a.keyCode:a.which)&&jQuery('input[name="action"]').val("")});jQuery("div.matchtype input:checkbox").click(function(){var a=jQuery(this).attr("id").replace("matchtype-","");jQuery(this).is(":checked")?jQuery("div.matchtype-"+a+" input:checkbox").each(function(){jQuery(this).attr("checked","checked")}):jQuery("div.matchtype-"+a+" input:checkbox").each(function(){jQuery(this).removeAttr("checked")})});
jQuery("div.row-actions span a").each(function(){jQuery(this).focus({el:jQuery(this)},function(a){jQuery(window).keyup({el:a.data.el},function(a){9==(a.keyCode?a.keyCode:a.which)&&a.data.el.parent().parent().css({left:0})})});jQuery(this).blur({el:jQuery(this)},function(a){jQuery(window).keyup({el:a.data.el},function(a){9==(a.keyCode?a.keyCode:a.which)&&a.data.el.parent().parent().css({left:-9999})})})})});
var FootballPoolAdmin=function(a){function v(){p||(k=!0,a.ajax({data:{action:"footballpool_calculate_scorehistory",fp_recalc_nonce:FootballPoolAjax.fp_recalc_nonce,calculation_step:"cancel_calculation",iteration:1},url:ajaxurl,global:!1,dataType:"json",method:"POST",success:function(a,b,d){console.log("football pool calculation cancelled")},error:function(a,b,d){console.log(d)}}))}function l(c){var b=c||0,d=[];0===b?(k=!1,q=(new Date).getTime(),a.ajax({data:{action:"footballpool_calculate_scorehistory",
fp_recalc_nonce:FootballPoolAjax.fp_recalc_nonce,iteration:0,force_calculation:u},url:ajaxurl,global:!1,dataType:"json",method:"POST",success:function(b,c,g){a.colorbox({html:b.colorbox_html,overlayClose:!1,escKey:!0,arrowKey:!1,close:FootballPoolAjax.colorbox_close,innerWidth:"500px",innerHeight:"285px"});a(document).bind("cbox_cleanup",function(){v()});a("#fp-calc-progress").show();d=a("#fp-calc-progressbar");0!=d.length&&(d.progressbar(),d.show(),a("#ajax-loader").show(),d.progressbar("option",
"max")!=b.total_iterations&&d.progressbar("option","max",b.total_iterations));a("#calculation-message").html(b.message);k||l(b)},error:function(a,b,c){m();alert("Error message:\n"+c)}})):(!1===n&&(n=setInterval(function(){var b=(new Date).getTime()-q;a("#time-elapsed").html(r(b/1E3))},1E3)),a.ajax({data:{action:"footballpool_calculate_scorehistory",force_calculation:b.force_calculation,fp_recalc_nonce:b.fp_recalc_nonce,total_iterations:b.total_iterations,iteration:b.iteration,sub_iteration:b.sub_iteration,
sub_iterations:b.sub_iterations,calculation_step:b.calculation_step,user:b.user,ranking:b.ranking,match:b.match,question:b.question,prev_total_score:b.prev_total_score,score_order:b.score_order},url:ajaxurl,global:!1,dataType:"json",method:"POST",success:function(c,e,g){null==c?t(FootballPoolAdmin.error_message+" Error: response was null."):(p="undefined"!==typeof c.completed&&1===c.completed,e=(new Date).getTime()-q,e=(e/b.iteration*b.total_iterations-e)/1E3,0>e&&(e=0),1<b.iteration&&a("#time-left").html(r(e)),
d=a("#fp-calc-progressbar"),0!=d.length&&(d.progressbar(),d.progressbar("option","max")!=c.total_iterations&&d.progressbar("option","max",c.total_iterations),d.progressbar("option","value",c.iteration)),a("#calculation-message").html(c.message),!1===c.error?p?(m(),a("#time-left").html(r(0)),a("#ajax-loader").hide()):k||l(c):(m(),t(c.error)))},error:function(a,c,b){t(b)}}))}function r(a){a=Math.floor(a);var b=Math.floor(a/3600),d=Math.floor((a-3600*b)/60);a=a-3600*b-60*d;10>b&&(b="0"+b);10>d&&(d="0"+
d);10>a&&(a="0"+a);return b+":"+d+":"+a}function m(){clearInterval(n);n=!1}function t(c){c=c||FootballPoolAjax.error_message;m();a("#ajax-loader").hide();a("#fp-calc-progress").show();a("#calculation-message").html('<span class="error">'+c+"</span>")}var h=[],q,n=!1,u=0,p=!1,k=!1;return{calculate:l,force_calculation:function(){u=1;l()},bulk_action_warning:function(c){var b=a("#"+c);return b&&0!=b.prop("selectedIndex")?(c=a("#"+c+" option").filter(":selected").attr("bulk-msg"),""!=c&&void 0!=c?confirm(c):
!0):!1},toggle_points:function(c){a("#"+c+"_points").toggle()},set_input_param:function(c,b,d){var f;a.isArray(b)&&1<=b.length?a.each(b,function(b,g){""!=g&&(a.isArray(h[g])||(h[g]=[]),h[g][c]=a(g).attr(c),f=a.isArray(d)?d[b]:d,a(g).attr(c,f))}):""!=b&&(h[b]=[c,a(b).attr(c)],f=a.isArray(d)?d[0]:d,a(b).attr(c,f))},restore_input_param:function(c,b){var d="";a.isArray(b)&&1<=b.length?a.each(b,function(b,e){d=h[e][c];a(e).attr(c,d)}):""!=b&&(d=h[b][c],a(b).attr(c,d))},disable_inputs:function(c,b){var d=
b||"",f=!1;""!=d&&(f=a("#"+d).is(":checked"));a.isArray(c)&&1<=c.length?a.each(c,function(b,c){""!=c&&(""!=d?f?a(c).attr("disabled","disabled"):a(c).removeAttr("disabled"):a(c).attr("disabled","disabled"))}):""!=c&&(""!=d?f?a(c).attr("disabled","disabled"):a(c).removeAttr("disabled"):a(c).attr("disabled","disabled"))},toggle_linked_options:function(c,b){a.isArray(c)&&1<=c.length?a.each(c,function(b,c){""!=c&&a(c).toggle(!0)}):""!=c&&a(c).toggle(!0);a.isArray(b)&&1<=b.length?a.each(b,function(b,c){""!=
c&&a(c).toggle(!1)}):""!=b&&a(b).toggle(!1)}}}(jQuery);jQuery(document).ready(function(){jQuery("input[title].with-hint").inputHints()});jQuery.fn.inputHints=function(){jQuery(this).each(function(a){""==jQuery(this).val()&&jQuery(this).val(jQuery(this).attr("title")).addClass("hint")});return jQuery(this).focus(function(){jQuery(this).val()==jQuery(this).attr("title")&&jQuery(this).val("").removeClass("hint")}).blur(function(){""==jQuery(this).val()&&jQuery(this).val(jQuery(this).attr("title")).addClass("hint")})};
